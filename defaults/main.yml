---
# Переменные по умолчанию для роли firewall
# Обновлено: январь 2026

# Включить установку и настройку firewall
firewall_enabled: true

# Тип firewall (ufw - универсальный, firewalld - для RHEL/CentOS)
firewall_type: "ufw"

# Состояние firewall (started/stopped)
firewall_state: started

# Включить firewall при загрузке
firewall_enabled_on_boot: true

# Политики по умолчанию
firewall_default_incoming: "deny"
firewall_default_outgoing: "allow"
firewall_default_forward: "deny"
firewall_default_routed: "deny"

# Правила для разрешения портов
firewall_allowed_ports:
  - { port: "22/tcp", comment: "SSH" }
  # Примеры для добавления:
  # - { port: "80/tcp", comment: "HTTP" }
  # - { port: "443/tcp", comment: "HTTPS" }
  # - { port: "16509/tcp", comment: "libvirt" }

# Правила для разрешения IP адресов/сетей
firewall_allowed_ips: []
  # Примеры:
  # - { ip: "10.0.0.0/8", comment: "Internal network" }
  # - { ip: "192.168.1.0/24", comment: "LAN" }

# Правила для блокировки IP адресов
firewall_blocked_ips: []
  # Примеры:
  # - { ip: "1.2.3.4", comment: "Blocked IP" }

# Настройки логирования
firewall_logging: "low"  # off, low, medium, full, on

# Логирование удаленных соединений
firewall_log_ufw: false

# Правила для IPv6 (true/false)
firewall_ipv6: false

# Удалить существующие правила перед настройкой (осторожно!)
firewall_reset: false

# Дополнительные правила (raw правила ufw)
firewall_raw_rules: []
  # Примеры:
  # - { rule: "-A ufw-before-input -p icmp --icmp-type echo-request -j ACCEPT", comment: "Allow ping" }
